<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Recipe Finder | Portf√≥lio</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root {
    --primary: #ff7a18;
    --dark: #1f1f1f;
    --light: #ffffff;
    --gray: #f4f4f4;
}

* {
    box-sizing: border-box;
}

body {
    margin: 0;
    font-family: 'Segoe UI', Tahoma, sans-serif;
    background: var(--gray);
    color: var(--dark);
}

header {
    background: linear-gradient(135deg, #ff7a18, #ffb347);
    color: #fff;
    padding: 60px 20px;
    text-align: center;
}

header h1 {
    margin: 0;
    font-size: 2.5rem;
}

header p {
    margin-top: 10px;
    font-size: 1.1rem;
}

.search-box {
    max-width: 500px;
    margin: 30px auto 0;
    display: flex;
}

.search-box input {
    flex: 1;
    padding: 14px;
    border: none;
    border-radius: 8px 0 0 8px;
    font-size: 1rem;
}

.search-box button {
    padding: 14px 24px;
    border: none;
    background: var(--dark);
    color: #fff;
    cursor: pointer;
    border-radius: 0 8px 8px 0;
}

main {
    padding: 40px 20px;
    max-width: 1200px;
    margin: auto;
}

.recipe-list {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
    gap: 25px;
}

.card {
    background: var(--light);
    border-radius: 14px;
    overflow: hidden;
    box-shadow: 0 10px 25px rgba(0,0,0,.08);
    transition: transform .3s;
}

.card:hover {
    transform: translateY(-6px);
}

.card img {
    width: 100%;
    height: 180px;
    object-fit: cover;
    cursor: pointer;
}

.card h3 {
    padding: 15px;
    margin: 0;
}

.details {
    padding: 0 15px 15px;
}

.details h4 {
    margin-bottom: 8px;
}

.details ul {
    padding-left: 18px;
}

.details iframe {
    width: 100%;
    height: 220px;
    border-radius: 10px;
    margin-top: 10px;
}

footer {
    text-align: center;
    padding: 30px;
    background: #111;
    color: #aaa;
}
</style>
</head>

<body>

<header>
    <h1>üçΩÔ∏è Recipe Finder</h1>
    <p>Buscador de receitas com consumo de API e interface moderna</p>

    <div class="search-box">
        <input id="search" placeholder="Pesquisar receita (portugu√™s ou ingl√™s)">
        <button>Buscar</button>
    </div>
</header>

<main>
    <div class="recipe-list" id="list"></div>
</main>

<footer>
    Desenvolvido por <strong>Dinaellen Cutrim</strong> ‚Ä¢ Projeto de Portf√≥lio
</footer>

<script>
const list = document.getElementById('list')
const input = document.getElementById('search')

let TODAS = []

const traducao = {
    frango: 'chicken',
    bolo: 'cake',
    carne: 'beef',
    peixe: 'fish',
    arroz: 'rice',
    macarrao: 'pasta',
    massa: 'pasta',
    porco: 'pork',
    sopa: 'soup',
    salada: 'salad',
    chocolate: 'chocolate'
}

async function carregarTodas() {
    for (let l = 97; l <= 122; l++) {
        const letra = String.fromCharCode(l)
        const res = await fetch(
            `https://www.themealdb.com/api/json/v1/1/search.php?f=${letra}`
        )
        const data = await res.json()
        if (data.meals) TODAS.push(...data.meals)
    }
    render(TODAS)
}

input.addEventListener('input', () => {
    let termo = input.value.toLowerCase()
    termo = traducao[termo] || termo

    const filtradas = TODAS.filter(r =>
        r.strMeal.toLowerCase().includes(termo)
    )

    render(filtradas)
})

function render(receitas) {
    list.innerHTML = receitas.map(r => `
        <div class="card">
            <img src="${r.strMealThumb}" onclick="detalhes(${r.idMeal}, this)">
            <h3>${r.strMeal}</h3>
            <div class="details"></div>
        </div>
    `).join('')
}

async function detalhes(id, img) {
    const box = img.parentElement.querySelector('.details')

    if (box.innerHTML) {
        box.innerHTML = ''
        return
    }

    const res = await fetch(
        `https://www.themealdb.com/api/json/v1/1/lookup.php?i=${id}`
    )
    const data = await res.json()
    const r = data.meals[0]

    let ing = ''
    for (let i = 1; i <= 20; i++) {
        const a = r[`strIngredient${i}`]
        const b = r[`strMeasure${i}`]
        if (a && a.trim()) ing += `<li>${a} - ${b}</li>`
    }

    const video = r.strYoutube
        ? `<iframe src="https://www.youtube.com/embed/${r.strYoutube.split('v=')[1]}"></iframe>`
        : ''

    box.innerHTML = `
        <h4>Ingredientes</h4>
        <ul>${ing}</ul>
        <h4>Modo de preparo</h4>
        <p>${r.strInstructions}</p>
        ${video}
    `
}

carregarTodas()
</script>

</body>
</html>
